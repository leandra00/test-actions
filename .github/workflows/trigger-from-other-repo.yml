name: trigger-from-other-repo
id: trigger-from-other-repo
if: ${{ steps.changesets.outputs.published == 'true' }}
uses: actions/github-script@v6
with:
  debug: ${{ secrets.ACTIONS_RUNNER_DEBUG }}
  github-token: ${{ secrets.GITHUB_PAT }}
  script: |
    try {
      const result = await github.rest.actions.createWorkflowDispatch({
        owner: 'leandra00',
        repo: 'test-actions2',
        workflow_id: 'bundle.yml',
        ref: 'main',
        inputs: {
          tags: ${{ steps.get-tags.outputs.tags }}
        },
      })
      console.log(result);
    } catch(error) {
      console.error(error);
      core.setFailed(error);
    }
